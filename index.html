<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Will you be my Valentine?</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíï</text></svg>">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --bg-start: #faf5f8;
      --bg-frustrated-1: #ffe8ec;
      --bg-frustrated-2: #ffd6dd;
      --bg-frustrated-3: #ffc5d0;
      --yes-color: #ef476f;
      --no-color: #f5f5f5;
      --text-main: #1a1a1a;
      --text-sub: #666;
      --card-bg: #ffffff;
      --canvas-bg: #f9f4f7;
    }
    
    * { 
      box-sizing: border-box; 
      margin: 0;
      padding: 0;
    }
    
    body {
      min-height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: var(--bg-start);
      transition: background-color 1s ease;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
    }
    
    .card {
      width: 90vw;
      max-width: 500px;
      background: var(--card-bg);
      padding: 35px 25px 45px;
      border-radius: 28px;
      text-align: center;
      box-shadow: 0 12px 50px rgba(0,0,0,0.06);
      position: relative;
      z-index: 10;
    }
    
    .gif-container {
      width: 88vw;
      max-width: 360px;
      height: 220px;
      background: var(--canvas-bg);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border: 3px solid #f0eaed;
      box-shadow: inset 0 2px 8px rgba(0,0,0,0.03);
      position: relative;
      left: 50%;
      transform: translateX(-50%);
      margin-bottom: 28px;
    }
    
    .character-img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    
    h1 {
      font-size: clamp(1.6rem, 4.5vw, 2.2rem);
      margin: 18px 0 12px;
      color: var(--text-main);
      font-weight: 700;
      letter-spacing: -0.4px;
    }
    
    #subtitle {
      font-size: clamp(1.15rem, 3.8vw, 1.4rem);
      color: var(--text-sub);
      min-height: 2.2em;
      margin-bottom: 38px;
      padding: 0 10px;
      font-style: italic;
      font-weight: 500;
      line-height: 1.4;
    }
    
    .btn-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 22px;
      min-height: 110px;
      position: relative;
    }
    
    button {
      padding: 18px 42px;
      font-size: 19px;
      font-weight: 700;
      border: none;
      border-radius: 55px;
      cursor: pointer;
      transition: all 0.3s ease;
      touch-action: manipulation;
      box-shadow: 0 5px 18px rgba(0,0,0,0.08);
      letter-spacing: 0.3px;
    }
    
    #yesBtn {
      background: linear-gradient(135deg, var(--yes-color) 0%, #ff6b88 100%);
      color: white;
      z-index: 50;
      position: relative;
      transform-origin: center center;
    }
    
    #noBtn {
      background-color: var(--no-color);
      color: #666;
      position: relative;
      z-index: 200;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    
    #noBtn.bouncing {
      position: fixed;
      transition: none;
      z-index: 200;
    }
    
    #noBtn.mole-mode {
      position: fixed;
      z-index: 200;
    }
    
    #noBtn.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    @keyframes fadeInOut {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    
    .sticker {
      position: fixed;
      width: 120px;
      height: 120px;
      pointer-events: none;
      opacity: 0 !important;
      z-index: 40;
      object-fit: contain;
      transition: opacity 0.7s ease;
      display: none;
    }
    
    #celebration {
      display: none;
      position: relative;
    }
    
    #celebration h1 {
      font-size: clamp(2.3rem, 7.5vw, 3.3rem);
      color: #ff3b7a;
      margin-bottom: 22px;
      animation: celebratePulse 1.2s ease-in-out infinite;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    #bigYesText {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(2.8rem, 9.5vw, 5.2rem);
      font-weight: 900;
      color: #ff3b7a;
      z-index: 210;
      opacity: 0;
      text-shadow: 0 0 28px rgba(255, 59, 122, 0.4);
      animation: slideInBounce 2.5s ease-in-out infinite;
      text-transform: uppercase;
      letter-spacing: 3px;
    }
    
    @keyframes slideInBounce {
      0% { opacity: 0; transform: translate(-50%, -70%) scale(0.3); }
      40% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
      50% { transform: translate(-50%, -50%) scale(0.95); }
      60% { transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -30%) scale(0.8); }
    }
    
    @keyframes celebratePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }
    
    .celebration-gif {
      width: 100%;
      max-width: 380px;
      border-radius: 22px;
      margin-top: 22px;
      box-shadow: 0 8px 35px rgba(0,0,0,0.1);
    }
    
    #confettiCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
    }
    
    .celebration-sticker {
      position: fixed;
      width: 125px;
      height: 125px;
      object-fit: contain;
      opacity: 0;
      z-index: 160;
      animation: popInSticker 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      display: none;
    }
    
    @keyframes popInSticker {
      0% { opacity: 0; transform: scale(0) rotate(-180deg); }
      100% { opacity: 1; transform: scale(1) rotate(0deg); }
    }
    
    .clone-button {
      position: fixed;
      padding: 18px 42px;
      font-size: 19px;
      font-weight: 700;
      border: none;
      border-radius: 55px;
      background-color: #f5f5f5;
      color: #666;
      cursor: pointer;
      touch-action: manipulation;
      box-shadow: 0 5px 18px rgba(0,0,0,0.08);
      z-index: 199;
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <canvas id="confettiCanvas"></canvas>
  
  <img class="sticker" id="stickerA" src="a.png">
  <img class="sticker" id="stickerB" src="b.png">
  <img class="celebration-sticker" id="stickerC" src="c.png" style="top: 18%; left: 6%;">
  <img class="celebration-sticker" id="stickerD" src="d.png" style="top: 12%; right: 6%;">
  <img class="celebration-sticker" id="stickerE" src="e.png" style="bottom: 18%; left: 10%;">
  <img class="celebration-sticker" id="stickerF" src="f.png" style="bottom: 15%; right: 8%;">
  
  <div id="bigYesText" style="display: none;">She Said Yes!!!</div>
  
  <main class="card" id="mainCard">
    <div id="question-content">
      <div class="gif-container">
        <img src="1.gif" class="character-img" id="mainImg">
      </div>
      
      <h1>Arya, will you be my valentine?</h1>
      <p id="subtitle">Please say yes ‚ú®</p>
      
      <div class="btn-container" id="btnContainer">
        <button id="yesBtn">Yes</button>
        <button id="noBtn">No</button>
      </div>
    </div>
    
    <div id="celebration">
      <h1>Hell Yeah</h1>
      <img src="https://media1.tenor.com/m/CMAUbqPnTb4AAAAd/gi-hun-in-ho.gif" class="celebration-gif">
    </div>
  </main>
  
  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const subtitle = document.getElementById('subtitle');
    const mainImg = document.getElementById('mainImg');
    const body = document.body;
    const stickerA = document.getElementById('stickerA');
    const stickerB = document.getElementById('stickerB');
    
    let noCount = 0;
    let yesScale = 1;
    let dvdMode = false;
    let moleMode = false;
    let cloneMode = false;
    let dvdX = 0, dvdY = 0;
    let dvdSpeedX = 2, dvdSpeedY = 2;
    let animationFrame;
    let moleInterval;
    let cloneButtons = [];
    
    const phrases = [
      "OW HELL NAWWW",
      "Did you just click no again!?",
      "Pleaaaaaaseeeeee say yes",
      "Are you serious rn",
      "Oh Ma Lord",
      "I'll give you chocolates pleaseee",
      "Comeeeee onnnn",
      "Ab dekh",
      "Ab krke dikha üòè",
      "Oww hell naaa",
      "Now? üòé",
      "Are you serious üíî",
      "COME ON NOWW!!!",
      "PLEASE! I CAN'T LIVE WITHOUT YOU",
      "What you gonna do now? Hah üòô"
    ];
    
    const gifUrls = {
      1: "https://media1.tenor.com/m/TRxTAkbe39QAAAAd/oh-hell-nah-no.gif",
      2: "https://media1.tenor.com/m/z4ukCIqmzR8AAAAd/omg-what.gif",
      3: "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExYnl3ZTAzd3hvNmxsNTVjcDBoeDdtZmYwZG43NG5ma2N6Z3l6bm5hbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lauLuhNJpTBrjPdTFb/giphy.gif",
      4: "https://media1.tenor.com/m/gYw4XiQtMsUAAAAd/really-bruh.gif",
      5: "https://media1.tenor.com/m/5wypIfJTdOkAAAAd/shocked-dog-good-dog.gif",
      6: "https://media.tenor.com/UNaQFutfOF0AAAAj/banana-crying-cat.gif",
      7: "https://media.tenor.com/UNaQFutfOF0AAAAj/banana-crying-cat.gif",
      8: "https://media1.tenor.com/m/V36VabT3tXAAAAAd/why-are-you-serious.gif",
      9: "https://images.meme-arsenal.com/71c0e0900d585e65a5acbd5e47d83cbb.jpg",
      10: "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcGRuMGs0ZnUyc2JjeHN4amc5bDJtd3BodHR5ZmR2MHpleThpem0xbyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/m8fyrgnXwXV5EHw6Lm/giphy.gif",
      11: "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExNnlqMGt5eGNiOW9nNG92eTkwaHZjMWt2ODkza2RkdHFobnhpdDVsNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/43wR1f8QU9KApWKjYt/giphy.gif",
      12: "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExZHh4djVlaDBvMDFvMXR5dmM1ZDR4NnQwbjAyenI3YTBmMnJjNTY4MSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3orieTfp1MeFLiBQR2/giphy.gif",
      13: "https://media1.tenor.com/m/gYw4XiQtMsUAAAAd/really-bruh.gif",
      14: "https://media1.tenor.com/m/wk8ueqUDJBsAAAAC/cat-cry-cute.gif",
      15: "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExNDgwb3VtM3VoNGl4aTZwcWJlcG90czFnYXJtZXBrOGVxanRvZXM1ayZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/78XCFBGOlS6keY1Bil/giphy.gif"
    };
    
    function playPopSound() {
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = 900;
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0.4, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.15);
      } catch(e) {}
    }
    
    function handleNo(event) {
      noCount++;
      
      playPopSound();
      
      if (navigator.vibrate) {
        navigator.vibrate(50);
      }
      
      if (noCount <= phrases.length) {
        subtitle.innerText = phrases[noCount - 1];
      }
      
      if (gifUrls[noCount]) {
        mainImg.src = gifUrls[noCount];
      }
      
      if (noCount <= 6) {
        yesScale += 0.15;
        yesBtn.style.transform = `scale(${yesScale})`;
      } else if (yesScale < 3.2) {
        yesScale += 0.3;
        yesBtn.style.transform = `scale(${yesScale})`;
      }
      
      switch(noCount) {
        case 3:
          showStickerA();
          break;
        case 5:
          body.style.backgroundColor = "#ffe8ec";
          break;
        case 6:
          showStickerB(event);
          break;
        case 8:
          startMoleMode();
          break;
        case 9:
          noBtn.style.transform = 'scale(0.7)';
          stopMoleMode();
          moveNoButtonRandomly();
          break;
        case 10:
          noBtn.style.opacity = '0.5';
          noBtn.style.animation = 'fadeInOut 1.5s infinite';
          body.style.backgroundColor = "#ffd6dd";
          break;
        case 11:
          noBtn.style.animation = 'none';
          noBtn.style.opacity = '1';
          startCloneMode();
          break;
        case 12:
          stopCloneMode();
          startDVDMode(5);
          break;
        case 13:
          dvdSpeedX = 7;
          dvdSpeedY = 7;
          break;
        case 14:
          dvdSpeedX = 9;
          dvdSpeedY = 9;
          body.style.backgroundColor = "#ffc5d0";
          break;
        case 15:
          dvdSpeedX = 20;
          dvdSpeedY = 20;
          break;
      }
      
      if (!dvdMode && !moleMode && !cloneMode && noCount < 8) {
        moveNoButtonRandomly();
      }
    }
    
    function showStickerA() {
      const yesRect = yesBtn.getBoundingClientRect();
      stickerA.style.display = 'block';
      stickerA.style.left = `${yesRect.right + 8}px`;
      stickerA.style.top = `${yesRect.top - 18}px`;
      stickerA.style.opacity = "1";
    }
    
    function showStickerB(event) {
      let clickX, clickY;
      if (event.clientX !== undefined) {
        clickX = event.clientX;
        clickY = event.clientY;
      } else if (event.touches && event.touches.length > 0) {
        clickX = event.touches[0].clientX;
        clickY = event.touches[0].clientY;
      } else {
        const noRect = noBtn.getBoundingClientRect();
        clickX = noRect.left;
        clickY = noRect.top;
      }
      
      stickerB.style.display = 'block';
      stickerB.style.left = `${clickX - 60}px`;
      stickerB.style.top = `${clickY - 60}px`;
      stickerB.style.opacity = "1";
    }
    
    function moveNoButtonRandomly() {
      const maxX = window.innerWidth - noBtn.offsetWidth - 20;
      const maxY = window.innerHeight - noBtn.offsetHeight - 20;
      const randomX = Math.floor(Math.random() * maxX) + 10;
      const randomY = Math.floor(Math.random() * maxY) + 10;
      noBtn.style.position = 'fixed';
      noBtn.style.left = randomX + 'px';
      noBtn.style.top = randomY + 'px';
    }
    
    function startMoleMode() {
      moleMode = true;
      noBtn.classList.add('mole-mode');
      
      moleInterval = setInterval(() => {
        noBtn.classList.add('hidden');
        
        setTimeout(() => {
          const maxX = window.innerWidth - noBtn.offsetWidth - 20;
          const maxY = window.innerHeight - noBtn.offsetHeight - 20;
          const randomX = Math.floor(Math.random() * maxX) + 10;
          const randomY = Math.floor(Math.random() * maxY) + 10;
          
          noBtn.style.left = randomX + 'px';
          noBtn.style.top = randomY + 'px';
          noBtn.classList.remove('hidden');
        }, 100);
      }, 900);
    }
    
    function stopMoleMode() {
      moleMode = false;
      if (moleInterval) clearInterval(moleInterval);
      noBtn.classList.remove('mole-mode', 'hidden');
    }
    
    function startCloneMode() {
      cloneMode = true;
      
      cloneButtons.forEach(btn => btn.remove());
      cloneButtons = [];
      
      const realIndex = Math.floor(Math.random() * 3);
      
      for (let i = 0; i < 3; i++) {
        const clone = document.createElement('button');
        clone.textContent = 'No';
        clone.className = 'clone-button';
        
        const maxX = window.innerWidth - 150;
        const maxY = window.innerHeight - 80;
        const randomX = Math.floor(Math.random() * maxX) + 10;
        const randomY = Math.floor(Math.random() * maxY) + 10;
        
        clone.style.left = randomX + 'px';
        clone.style.top = randomY + 'px';
        
        if (i === realIndex) {
          clone.addEventListener('click', (e) => {
            handleNo(e);
          });
          clone.addEventListener('touchstart', (e) => {
            e.preventDefault();
            handleNo(e);
          });
        } else {
          clone.addEventListener('click', () => {
            clone.style.opacity = '0';
            setTimeout(() => clone.remove(), 300);
          });
          clone.addEventListener('touchstart', (e) => {
            e.preventDefault();
            clone.style.opacity = '0';
            setTimeout(() => clone.remove(), 300);
          });
        }
        
        document.body.appendChild(clone);
        cloneButtons.push(clone);
      }
      
      noBtn.style.display = 'none';
    }
    
    function stopCloneMode() {
      cloneMode = false;
      cloneButtons.forEach(btn => btn.remove());
      cloneButtons = [];
      noBtn.style.display = 'block';
      noBtn.style.transform = 'scale(1)';
      noBtn.style.opacity = '1';
      noBtn.style.animation = 'none';
    }
    
    function startDVDMode(speed) {
      dvdMode = true;
      dvdSpeedX = speed;
      dvdSpeedY = speed;
      noBtn.classList.add('bouncing');
      
      const noRect = noBtn.getBoundingClientRect();
      dvdX = noRect.left;
      dvdY = noRect.top;
      animateDVD();
    }
    
    function animateDVD() {
      if (!dvdMode) return;
      
      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;
      const maxX = window.innerWidth - btnWidth;
      const maxY = window.innerHeight - btnHeight;
      
      dvdX += dvdSpeedX;
      dvdY += dvdSpeedY;
      
      if (dvdX <= 0 || dvdX >= maxX) {
        dvdSpeedX *= -1;
        dvdX = Math.max(0, Math.min(dvdX, maxX));
      }
      if (dvdY <= 0 || dvdY >= maxY) {
        dvdSpeedY *= -1;
        dvdY = Math.max(0, Math.min(dvdY, maxY));
      }
      
      noBtn.style.left = dvdX + 'px';
      noBtn.style.top = dvdY + 'px';
      
      animationFrame = requestAnimationFrame(animateDVD);
    }
    
    let lastTriggerTime = 0;
    
    noBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      if (cloneMode) return;
      const now = Date.now();
      if ((now - lastTriggerTime) > 400) {
        lastTriggerTime = now;
        handleNo(e);
      }
    });
    
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      if (cloneMode) return;
      const now = Date.now();
      if ((now - lastTriggerTime) > 400) {
        lastTriggerTime = now;
        handleNo(e);
      }
    });
    
    yesBtn.addEventListener('click', () => {
      dvdMode = false;
      moleMode = false;
      cloneMode = false;
      if (animationFrame) cancelAnimationFrame(animationFrame);
      if (moleInterval) clearInterval(moleInterval);
      cloneButtons.forEach(btn => btn.remove());
      
      if (navigator.vibrate) {
        navigator.vibrate([200, 100, 200, 100, 200]);
      }
      
      document.getElementById('question-content').style.display = 'none';
      document.getElementById('celebration').style.display = 'block';
      noBtn.style.display = 'none';
      body.style.backgroundColor = "#faf5f8";
      
      const bigText = document.getElementById('bigYesText');
      bigText.style.display = 'block';
      
      confetti({
        particleCount: 200,
        spread: 80,
        origin: { y: 0.6 },
        colors: ['#ff9ebc', '#ffb3cc', '#ffc8d9', '#ff85ab']
      });
      
      setTimeout(() => { stickerC.style.display = 'block'; stickerC.style.opacity = '1'; }, 400);
      setTimeout(() => { stickerD.style.display = 'block'; stickerD.style.opacity = '1'; }, 700);
      setTimeout(() => { stickerE.style.display = 'block'; stickerE.style.opacity = '1'; }, 1000);
      setTimeout(() => { stickerF.style.display = 'block'; stickerF.style.opacity = '1'; }, 1300);
      
      setInterval(() => {
        confetti({
          particleCount: 80,
          spread: 60,
          origin: { y: 0.7 },
          colors: ['#ff9ebc', '#ffb3cc', '#ffc8d9']
        });
      }, 2500);
    });
  </script>
</body>
</html>
